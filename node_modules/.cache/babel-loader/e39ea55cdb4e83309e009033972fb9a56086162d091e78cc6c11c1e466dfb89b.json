{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import logo from'../MainWindow/img/logo.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var URL='http://localhost:3001';function Logowanie(_ref){var handleLogin=_ref.handleLogin;var _useState=useState(\"ADMIN11\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"admino\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),token=_useState6[0],setToken=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),serverMessage=_useState8[0],setServerMessage=_useState8[1];useEffect(function(){setToken(generateToken());},[]);var generateToken=function generateToken(){return'_'+Math.random().toString(36).substr(2,9);};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return fetch(\"\".concat(URL,\"/logowanie\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:username,password:password,token:token})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;setServerMessage(data.message);if(data.token){localStorage.setItem('token',data.token);handleLogin(data.message);}_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);setServerMessage(\"Niepoprawne dane logowania: \".concat(_context.t0.message));case 15:case\"end\":return _context.stop();}},_callee,null,[[1,12]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();// Rest of your component...\nreturn/*#__PURE__*/_jsxs(\"div\",{id:\"LOGOWANIE\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"alert\",children:serverMessage&&/*#__PURE__*/_jsx(\"div\",{children:serverMessage})}),/*#__PURE__*/_jsxs(\"div\",{className:\"LG\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logos\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"\",className:\"logos-SWG\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"logowanie-s\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",id:\"token\",autoComplete:\"off\",name:\"token\",placeholder:\"Token\",value:token,className:\"w100\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"name\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons prefix cwhite\",children:\"apps\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"first\",autoComplete:\"off\",autoFocus:\"On\",name:\"user\",placeholder:\"Login\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},className:\"w100\"// required\n})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"pass\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons prefix cwhite\",children:\"lock\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"second\",autoComplete:\"off\",name:\"pass\",placeholder:\"Has\\u0142o\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},className:\"w100\"// required\n})]}),/*#__PURE__*/_jsx(\"div\",{id:\"btn-log-in\",children:/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"box\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"log-in\",id:\"sub\",children:\"Sign In\"})})})})]})})]})]});}export default Logowanie;","map":{"version":3,"names":["React","useState","useEffect","logo","jsx","_jsx","jsxs","_jsxs","URL","Logowanie","_ref","handleLogin","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","_useState5","_useState6","token","setToken","_useState7","_useState8","serverMessage","setServerMessage","generateToken","Math","random","toString","substr","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","response","data","wrap","_callee$","_context","prev","next","preventDefault","fetch","concat","method","headers","body","JSON","stringify","sent","json","message","localStorage","setItem","t0","stop","_x","apply","arguments","id","children","className","src","alt","onSubmit","type","autoComplete","name","placeholder","value","autoFocus","onChange","e","target"],"sources":["C:/Users/Neo/Desktop/WWW/react/skynet/skynet/src/logowanie/logowanie.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport logo from '../MainWindow/img/logo.png';\n\nconst URL = 'http://localhost:3001';\n\nfunction Logowanie({ handleLogin }) {\n  const [username, setUsername] = useState(\"ADMIN11\");\n  const [password, setPassword] = useState(\"admino\");\n  const [token, setToken] = useState(\"\");\n  const [serverMessage, setServerMessage] = useState(\"\");\n\n  useEffect(() => {\n    setToken(generateToken());\n  }, []);\n\n  const generateToken = () => {\n    return '_' + Math.random().toString(36).substr(2, 9);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const response = await fetch(`${URL}/logowanie`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username, password, token })\n      });\n\n      const data = await response.json();\n      setServerMessage(data.message);\n      \n      if (data.token) {\n        localStorage.setItem('token', data.token);\n        handleLogin(data.message);\n      }\n    } catch (error) {\n      setServerMessage(`Niepoprawne dane logowania: ${error.message}`);\n    }\n  };\n\n  // Rest of your component...\n\n  return (\n    <div id=\"LOGOWANIE\">\n      <div className=\"alert\">{serverMessage && <div>{serverMessage}</div>}</div>\n      <div className=\"LG\">\n        <div className=\"logos\">\n          <img src={logo} alt=\"\" className=\"logos-SWG\" />\n        </div>\n\n        <div id=\"logowanie-s\">\n          <form onSubmit={handleSubmit}>\n          <input\n                type=\"hidden\"\n                id=\"token\"\n                autoComplete=\"off\"\n                name=\"token\"\n                placeholder=\"Token\"\n                value={token}\n                className=\"w100\"\n              />\n\n            <div id=\"name\">\n              <i className=\"material-icons prefix cwhite\">apps</i>\n              <input\n                type=\"text\"\n                id=\"first\"\n                autoComplete=\"off\"\n                autoFocus=\"On\"\n                name=\"user\"\n                placeholder=\"Login\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                className=\"w100\"\n                // required\n              />\n            </div>\n\n            <div id=\"pass\">\n              <i className=\"material-icons prefix cwhite\">lock</i>\n              <input\n                type=\"password\"\n                id=\"second\"\n                autoComplete=\"off\"\n                name=\"pass\"\n                placeholder=\"HasÅ‚o\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"w100\"\n                // required\n              />\n            </div>\n\n            <div id=\"btn-log-in\">\n              <div className=\"wrapper\">\n                <div className=\"box\">\n                  <button type=\"submit\" className=\"log-in\" id=\"sub\">\n                    Sign In\n                  </button>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Logowanie;\n\n  "],"mappings":"sZAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,IAAI,KAAM,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9C,GAAM,CAAAC,GAAG,CAAG,uBAAuB,CAEnC,QAAS,CAAAC,SAASA,CAAAC,IAAA,CAAkB,IAAf,CAAAC,WAAW,CAAAD,IAAA,CAAXC,WAAW,CAC9B,IAAAC,SAAA,CAAgCX,QAAQ,CAAC,SAAS,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA5CG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAAgChB,QAAQ,CAAC,QAAQ,CAAC,CAAAiB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA3CE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAA0BpB,QAAQ,CAAC,EAAE,CAAC,CAAAqB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,UAAA,CAA0CxB,QAAQ,CAAC,EAAE,CAAC,CAAAyB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA/CE,aAAa,CAAAD,UAAA,IAAEE,gBAAgB,CAAAF,UAAA,IAEtCxB,SAAS,CAAC,UAAM,CACdsB,QAAQ,CAACK,aAAa,CAAC,CAAC,CAAC,CAC3B,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAA,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1B,MAAO,GAAG,CAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC,CACtD,CAAC,CAED,GAAM,CAAAC,YAAY,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,KAAK,MAAAC,QAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC/BP,KAAK,CAACQ,cAAc,CAAC,CAAC,CAACH,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEE,CAAAE,KAAK,IAAAC,MAAA,CAAI1C,GAAG,eAAc,CAC/C2C,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAExC,QAAQ,CAARA,QAAQ,CAAEI,QAAQ,CAARA,QAAQ,CAAEI,KAAK,CAALA,KAAM,CAAC,CACpD,CAAC,CAAC,QAJIkB,QAAQ,CAAAI,QAAA,CAAAW,IAAA,CAAAX,QAAA,CAAAE,IAAA,SAMK,CAAAN,QAAQ,CAACgB,IAAI,CAAC,CAAC,QAA5Bf,IAAI,CAAAG,QAAA,CAAAW,IAAA,CACV5B,gBAAgB,CAACc,IAAI,CAACgB,OAAO,CAAC,CAE9B,GAAIhB,IAAI,CAACnB,KAAK,CAAE,CACdoC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAElB,IAAI,CAACnB,KAAK,CAAC,CACzCZ,WAAW,CAAC+B,IAAI,CAACgB,OAAO,CAAC,CAC3B,CAACb,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAgB,EAAA,CAAAhB,QAAA,aAEDjB,gBAAgB,gCAAAsB,MAAA,CAAgCL,QAAA,CAAAgB,EAAA,CAAMH,OAAO,CAAE,CAAC,CAAC,yBAAAb,QAAA,CAAAiB,IAAA,MAAAvB,OAAA,iBAEpE,kBAnBK,CAAAL,YAAYA,CAAA6B,EAAA,SAAA5B,KAAA,CAAA6B,KAAA,MAAAC,SAAA,OAmBjB,CAED;AAEA,mBACE1D,KAAA,QAAK2D,EAAE,CAAC,WAAW,CAAAC,QAAA,eACjB9D,IAAA,QAAK+D,SAAS,CAAC,OAAO,CAAAD,QAAA,CAAExC,aAAa,eAAItB,IAAA,QAAA8D,QAAA,CAAMxC,aAAa,CAAM,CAAC,CAAM,CAAC,cAC1EpB,KAAA,QAAK6D,SAAS,CAAC,IAAI,CAAAD,QAAA,eACjB9D,IAAA,QAAK+D,SAAS,CAAC,OAAO,CAAAD,QAAA,cACpB9D,IAAA,QAAKgE,GAAG,CAAElE,IAAK,CAACmE,GAAG,CAAC,EAAE,CAACF,SAAS,CAAC,WAAW,CAAE,CAAC,CAC5C,CAAC,cAEN/D,IAAA,QAAK6D,EAAE,CAAC,aAAa,CAAAC,QAAA,cACnB5D,KAAA,SAAMgE,QAAQ,CAAErC,YAAa,CAAAiC,QAAA,eAC7B9D,IAAA,UACMmE,IAAI,CAAC,QAAQ,CACbN,EAAE,CAAC,OAAO,CACVO,YAAY,CAAC,KAAK,CAClBC,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,OAAO,CACnBC,KAAK,CAAErD,KAAM,CACb6C,SAAS,CAAC,MAAM,CACjB,CAAC,cAEJ7D,KAAA,QAAK2D,EAAE,CAAC,MAAM,CAAAC,QAAA,eACZ9D,IAAA,MAAG+D,SAAS,CAAC,8BAA8B,CAAAD,QAAA,CAAC,MAAI,CAAG,CAAC,cACpD9D,IAAA,UACEmE,IAAI,CAAC,MAAM,CACXN,EAAE,CAAC,OAAO,CACVO,YAAY,CAAC,KAAK,CAClBI,SAAS,CAAC,IAAI,CACdH,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,OAAO,CACnBC,KAAK,CAAE7D,QAAS,CAChB+D,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAA/D,WAAW,CAAC+D,CAAC,CAACC,MAAM,CAACJ,KAAK,CAAC,EAAC,CAC7CR,SAAS,CAAC,MACV;AAAA,CACD,CAAC,EACC,CAAC,cAEN7D,KAAA,QAAK2D,EAAE,CAAC,MAAM,CAAAC,QAAA,eACZ9D,IAAA,MAAG+D,SAAS,CAAC,8BAA8B,CAAAD,QAAA,CAAC,MAAI,CAAG,CAAC,cACpD9D,IAAA,UACEmE,IAAI,CAAC,UAAU,CACfN,EAAE,CAAC,QAAQ,CACXO,YAAY,CAAC,KAAK,CAClBC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,YAAO,CACnBC,KAAK,CAAEzD,QAAS,CAChB2D,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAA3D,WAAW,CAAC2D,CAAC,CAACC,MAAM,CAACJ,KAAK,CAAC,EAAC,CAC7CR,SAAS,CAAC,MACV;AAAA,CACD,CAAC,EACC,CAAC,cAEN/D,IAAA,QAAK6D,EAAE,CAAC,YAAY,CAAAC,QAAA,cAClB9D,IAAA,QAAK+D,SAAS,CAAC,SAAS,CAAAD,QAAA,cACtB9D,IAAA,QAAK+D,SAAS,CAAC,KAAK,CAAAD,QAAA,cAClB9D,IAAA,WAAQmE,IAAI,CAAC,QAAQ,CAACJ,SAAS,CAAC,QAAQ,CAACF,EAAE,CAAC,KAAK,CAAAC,QAAA,CAAC,SAElD,CAAQ,CAAC,CACN,CAAC,CACH,CAAC,CACH,CAAC,EACF,CAAC,CACJ,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAA1D,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}