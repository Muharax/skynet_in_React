{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';// import { useNavigate } from 'react-router-dom';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),messageStatus=_useState2[0],setMessageStatus=_useState2[1];// Nowy stan lokalny\nvar _useState3=useState({login:'',pass:''}),_useState4=_slicedToArray(_useState3,2),form=_useState4[0],setForm=_useState4[1];var handleChange=function handleChange(e){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();fetch('http://localhost:3001/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(form)}).then(function(response){return response.json();}).then(function(data){console.log('Success:',data);setMessageStatus(data.message);// alert(`${data.message}`);\n}).catch(function(error){console.error('Error:',error);});// Miejsce na funkcję logowania, która powinna zwrócić promise\n// Na przykład:\n// try {\n//   await loginUser(username, password);\n//   navigate('/dashboard');\n// } catch (error) {\n//   // Obsłuż błąd logowania\n// }\ncase 2:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"AB\",children:messageStatus&&/*#__PURE__*/_jsx(\"div\",{className:\"msg-color\",children:messageStatus})}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Username:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Password:\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",onChange:handleChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]});};export default Login;","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","messageStatus","setMessageStatus","_useState3","login","pass","_useState4","form","setForm","handleChange","e","_objectSpread","_defineProperty","target","name","value","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","data","console","log","message","catch","error","stop","_x","apply","arguments","onSubmit","children","className","type","onChange"],"sources":["C:/Users/Neo/Desktop/WWW/react/skynet/skynet/src/login.js"],"sourcesContent":["import { useState } from 'react';\r\n// import { useNavigate } from 'react-router-dom';\r\n\r\nconst Login = () => {\r\n\r\n    const [messageStatus, setMessageStatus] = useState(null); // Nowy stan lokalny\r\n\r\n\r\n    const [form, setForm] = useState({\r\n        login: '',\r\n        pass: ''\r\n      });\r\n\r\n    const handleChange = e => {\r\n        setForm({\r\n          ...form,\r\n          [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n\r\n    fetch('http://localhost:3001/login', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(form),\r\n      })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        console.log('Success:', data);\r\n        setMessageStatus(data.message);\r\n        // alert(`${data.message}`);\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error:', error);\r\n      });\r\n\r\n\r\n\r\n    // Miejsce na funkcję logowania, która powinna zwrócić promise\r\n    // Na przykład:\r\n    // try {\r\n    //   await loginUser(username, password);\r\n    //   navigate('/dashboard');\r\n    // } catch (error) {\r\n    //   // Obsłuż błąd logowania\r\n    // }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n        <div className='AB'>{messageStatus && <div className='msg-color'>{messageStatus}</div>}</div>\r\n      <label>\r\n        Username:\r\n        <input type=\"text\" name=\"username\" onChange={handleChange}/>\r\n      </label>\r\n      <label>\r\n        Password:\r\n        <input type=\"password\" name=\"password\" onChange={handleChange} />\r\n      </label>\r\n      <button type=\"submit\">Login</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}