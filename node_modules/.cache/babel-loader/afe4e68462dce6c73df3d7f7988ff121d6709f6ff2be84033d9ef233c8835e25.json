{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _get = require(\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/get.js\").default;\nvar _getPrototypeOf = require(\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/getPrototypeOf.js\").default;\nvar _inherits = require(\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Layer = void 0;\nvar Util_1 = require(\"./Util\");\nvar Container_1 = require(\"./Container\");\nvar Node_1 = require(\"./Node\");\nvar Factory_1 = require(\"./Factory\");\nvar Canvas_1 = require(\"./Canvas\");\nvar Validators_1 = require(\"./Validators\");\nvar Shape_1 = require(\"./Shape\");\nvar Global_1 = require(\"./Global\");\nvar HASH = '#',\n  BEFORE_DRAW = 'beforeDraw',\n  DRAW = 'draw',\n  INTERSECTION_OFFSETS = [{\n    x: 0,\n    y: 0\n  }, {\n    x: -1,\n    y: -1\n  }, {\n    x: 1,\n    y: -1\n  }, {\n    x: 1,\n    y: 1\n  }, {\n    x: -1,\n    y: 1\n  }],\n  INTERSECTION_OFFSETS_LEN = INTERSECTION_OFFSETS.length;\nvar Layer = /*#__PURE__*/function (_Container_1$Containe) {\n  _inherits(Layer, _Container_1$Containe);\n  var _super = _createSuper(Layer);\n  function Layer(config) {\n    var _this;\n    _classCallCheck(this, Layer);\n    _this = _super.call(this, config);\n    _this.canvas = new Canvas_1.SceneCanvas();\n    _this.hitCanvas = new Canvas_1.HitCanvas({\n      pixelRatio: 1\n    });\n    _this._waitingForDraw = false;\n    _this.on('visibleChange.konva', _this._checkVisibility);\n    _this._checkVisibility();\n    _this.on('imageSmoothingEnabledChange.konva', _this._setSmoothEnabled);\n    _this._setSmoothEnabled();\n    return _this;\n  }\n  _createClass(Layer, [{\n    key: \"createPNGStream\",\n    value: function createPNGStream() {\n      var c = this.canvas._canvas;\n      return c.createPNGStream();\n    }\n  }, {\n    key: \"getCanvas\",\n    value: function getCanvas() {\n      return this.canvas;\n    }\n  }, {\n    key: \"getNativeCanvasElement\",\n    value: function getNativeCanvasElement() {\n      return this.canvas._canvas;\n    }\n  }, {\n    key: \"getHitCanvas\",\n    value: function getHitCanvas() {\n      return this.hitCanvas;\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext() {\n      return this.getCanvas().getContext();\n    }\n  }, {\n    key: \"clear\",\n    value: function clear(bounds) {\n      this.getContext().clear(bounds);\n      this.getHitCanvas().getContext().clear(bounds);\n      return this;\n    }\n  }, {\n    key: \"setZIndex\",\n    value: function setZIndex(index) {\n      _get(_getPrototypeOf(Layer.prototype), \"setZIndex\", this).call(this, index);\n      var stage = this.getStage();\n      if (stage && stage.content) {\n        stage.content.removeChild(this.getNativeCanvasElement());\n        if (index < stage.children.length - 1) {\n          stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[index + 1].getCanvas()._canvas);\n        } else {\n          stage.content.appendChild(this.getNativeCanvasElement());\n        }\n      }\n      return this;\n    }\n  }, {\n    key: \"moveToTop\",\n    value: function moveToTop() {\n      Node_1.Node.prototype.moveToTop.call(this);\n      var stage = this.getStage();\n      if (stage && stage.content) {\n        stage.content.removeChild(this.getNativeCanvasElement());\n        stage.content.appendChild(this.getNativeCanvasElement());\n      }\n      return true;\n    }\n  }, {\n    key: \"moveUp\",\n    value: function moveUp() {\n      var moved = Node_1.Node.prototype.moveUp.call(this);\n      if (!moved) {\n        return false;\n      }\n      var stage = this.getStage();\n      if (!stage || !stage.content) {\n        return false;\n      }\n      stage.content.removeChild(this.getNativeCanvasElement());\n      if (this.index < stage.children.length - 1) {\n        stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[this.index + 1].getCanvas()._canvas);\n      } else {\n        stage.content.appendChild(this.getNativeCanvasElement());\n      }\n      return true;\n    }\n  }, {\n    key: \"moveDown\",\n    value: function moveDown() {\n      if (Node_1.Node.prototype.moveDown.call(this)) {\n        var stage = this.getStage();\n        if (stage) {\n          var children = stage.children;\n          if (stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            stage.content.insertBefore(this.getNativeCanvasElement(), children[this.index + 1].getCanvas()._canvas);\n          }\n        }\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: \"moveToBottom\",\n    value: function moveToBottom() {\n      if (Node_1.Node.prototype.moveToBottom.call(this)) {\n        var stage = this.getStage();\n        if (stage) {\n          var children = stage.children;\n          if (stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            stage.content.insertBefore(this.getNativeCanvasElement(), children[1].getCanvas()._canvas);\n          }\n        }\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: \"getLayer\",\n    value: function getLayer() {\n      return this;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var _canvas = this.getNativeCanvasElement();\n      Node_1.Node.prototype.remove.call(this);\n      if (_canvas && _canvas.parentNode && Util_1.Util._isInDocument(_canvas)) {\n        _canvas.parentNode.removeChild(_canvas);\n      }\n      return this;\n    }\n  }, {\n    key: \"getStage\",\n    value: function getStage() {\n      return this.parent;\n    }\n  }, {\n    key: \"setSize\",\n    value: function setSize(_ref) {\n      var width = _ref.width,\n        height = _ref.height;\n      this.canvas.setSize(width, height);\n      this.hitCanvas.setSize(width, height);\n      this._setSmoothEnabled();\n      return this;\n    }\n  }, {\n    key: \"_validateAdd\",\n    value: function _validateAdd(child) {\n      var type = child.getType();\n      if (type !== 'Group' && type !== 'Shape') {\n        Util_1.Util.throw('You may only add groups and shapes to a layer.');\n      }\n    }\n  }, {\n    key: \"_toKonvaCanvas\",\n    value: function _toKonvaCanvas(config) {\n      config = config || {};\n      config.width = config.width || this.getWidth();\n      config.height = config.height || this.getHeight();\n      config.x = config.x !== undefined ? config.x : this.x();\n      config.y = config.y !== undefined ? config.y : this.y();\n      return Node_1.Node.prototype._toKonvaCanvas.call(this, config);\n    }\n  }, {\n    key: \"_checkVisibility\",\n    value: function _checkVisibility() {\n      var visible = this.visible();\n      if (visible) {\n        this.canvas._canvas.style.display = 'block';\n      } else {\n        this.canvas._canvas.style.display = 'none';\n      }\n    }\n  }, {\n    key: \"_setSmoothEnabled\",\n    value: function _setSmoothEnabled() {\n      this.getContext()._context.imageSmoothingEnabled = this.imageSmoothingEnabled();\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      if (this.parent) {\n        return this.parent.width();\n      }\n    }\n  }, {\n    key: \"setWidth\",\n    value: function setWidth() {\n      Util_1.Util.warn('Can not change width of layer. Use \"stage.width(value)\" function instead.');\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      if (this.parent) {\n        return this.parent.height();\n      }\n    }\n  }, {\n    key: \"setHeight\",\n    value: function setHeight() {\n      Util_1.Util.warn('Can not change height of layer. Use \"stage.height(value)\" function instead.');\n    }\n  }, {\n    key: \"batchDraw\",\n    value: function batchDraw() {\n      var _this2 = this;\n      if (!this._waitingForDraw) {\n        this._waitingForDraw = true;\n        Util_1.Util.requestAnimFrame(function () {\n          _this2.draw();\n          _this2._waitingForDraw = false;\n        });\n      }\n      return this;\n    }\n  }, {\n    key: \"getIntersection\",\n    value: function getIntersection(pos) {\n      if (!this.isListening() || !this.isVisible()) {\n        return null;\n      }\n      var spiralSearchDistance = 1;\n      var continueSearch = false;\n      while (true) {\n        for (var i = 0; i < INTERSECTION_OFFSETS_LEN; i++) {\n          var intersectionOffset = INTERSECTION_OFFSETS[i];\n          var obj = this._getIntersection({\n            x: pos.x + intersectionOffset.x * spiralSearchDistance,\n            y: pos.y + intersectionOffset.y * spiralSearchDistance\n          });\n          var shape = obj.shape;\n          if (shape) {\n            return shape;\n          }\n          continueSearch = !!obj.antialiased;\n          if (!obj.antialiased) {\n            break;\n          }\n        }\n        if (continueSearch) {\n          spiralSearchDistance += 1;\n        } else {\n          return null;\n        }\n      }\n    }\n  }, {\n    key: \"_getIntersection\",\n    value: function _getIntersection(pos) {\n      var ratio = this.hitCanvas.pixelRatio;\n      var p = this.hitCanvas.context.getImageData(Math.round(pos.x * ratio), Math.round(pos.y * ratio), 1, 1).data;\n      var p3 = p[3];\n      if (p3 === 255) {\n        var colorKey = Util_1.Util._rgbToHex(p[0], p[1], p[2]);\n        var shape = Shape_1.shapes[HASH + colorKey];\n        if (shape) {\n          return {\n            shape: shape\n          };\n        }\n        return {\n          antialiased: true\n        };\n      } else if (p3 > 0) {\n        return {\n          antialiased: true\n        };\n      }\n      return {};\n    }\n  }, {\n    key: \"drawScene\",\n    value: function drawScene(can, top) {\n      var layer = this.getLayer(),\n        canvas = can || layer && layer.getCanvas();\n      this._fire(BEFORE_DRAW, {\n        node: this\n      });\n      if (this.clearBeforeDraw()) {\n        canvas.getContext().clear();\n      }\n      Container_1.Container.prototype.drawScene.call(this, canvas, top);\n      this._fire(DRAW, {\n        node: this\n      });\n      return this;\n    }\n  }, {\n    key: \"drawHit\",\n    value: function drawHit(can, top) {\n      var layer = this.getLayer(),\n        canvas = can || layer && layer.hitCanvas;\n      if (layer && layer.clearBeforeDraw()) {\n        layer.getHitCanvas().getContext().clear();\n      }\n      Container_1.Container.prototype.drawHit.call(this, canvas, top);\n      return this;\n    }\n  }, {\n    key: \"enableHitGraph\",\n    value: function enableHitGraph() {\n      this.hitGraphEnabled(true);\n      return this;\n    }\n  }, {\n    key: \"disableHitGraph\",\n    value: function disableHitGraph() {\n      this.hitGraphEnabled(false);\n      return this;\n    }\n  }, {\n    key: \"setHitGraphEnabled\",\n    value: function setHitGraphEnabled(val) {\n      Util_1.Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n      this.listening(val);\n    }\n  }, {\n    key: \"getHitGraphEnabled\",\n    value: function getHitGraphEnabled(val) {\n      Util_1.Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n      return this.listening();\n    }\n  }, {\n    key: \"toggleHitCanvas\",\n    value: function toggleHitCanvas() {\n      if (!this.parent || !this.parent['content']) {\n        return;\n      }\n      var parent = this.parent;\n      var added = !!this.hitCanvas._canvas.parentNode;\n      if (added) {\n        parent.content.removeChild(this.hitCanvas._canvas);\n      } else {\n        parent.content.appendChild(this.hitCanvas._canvas);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      Util_1.Util.releaseCanvas(this.getNativeCanvasElement(), this.getHitCanvas()._canvas);\n      return _get(_getPrototypeOf(Layer.prototype), \"destroy\", this).call(this);\n    }\n  }]);\n  return Layer;\n}(Container_1.Container);\nexports.Layer = Layer;\nLayer.prototype.nodeType = 'Layer';\n(0, Global_1._registerNode)(Layer);\nFactory_1.Factory.addGetterSetter(Layer, 'imageSmoothingEnabled', true);\nFactory_1.Factory.addGetterSetter(Layer, 'clearBeforeDraw', true);\nFactory_1.Factory.addGetterSetter(Layer, 'hitGraphEnabled', true, (0, Validators_1.getBooleanValidator)());","map":{"version":3,"names":["_classCallCheck","require","default","_createClass","_get","_getPrototypeOf","_inherits","_createSuper","Object","defineProperty","exports","value","Layer","Util_1","Container_1","Node_1","Factory_1","Canvas_1","Validators_1","Shape_1","Global_1","HASH","BEFORE_DRAW","DRAW","INTERSECTION_OFFSETS","x","y","INTERSECTION_OFFSETS_LEN","length","_Container_1$Containe","_super","config","_this","call","canvas","SceneCanvas","hitCanvas","HitCanvas","pixelRatio","_waitingForDraw","on","_checkVisibility","_setSmoothEnabled","key","createPNGStream","c","_canvas","getCanvas","getNativeCanvasElement","getHitCanvas","getContext","clear","bounds","setZIndex","index","prototype","stage","getStage","content","removeChild","children","insertBefore","appendChild","moveToTop","Node","moveUp","moved","moveDown","moveToBottom","getLayer","remove","parentNode","Util","_isInDocument","parent","setSize","_ref","width","height","_validateAdd","child","type","getType","throw","_toKonvaCanvas","getWidth","getHeight","undefined","visible","style","display","_context","imageSmoothingEnabled","setWidth","warn","setHeight","batchDraw","_this2","requestAnimFrame","draw","getIntersection","pos","isListening","isVisible","spiralSearchDistance","continueSearch","i","intersectionOffset","obj","_getIntersection","shape","antialiased","ratio","p","context","getImageData","Math","round","data","p3","colorKey","_rgbToHex","shapes","drawScene","can","top","layer","_fire","node","clearBeforeDraw","Container","drawHit","enableHitGraph","hitGraphEnabled","disableHitGraph","setHitGraphEnabled","val","listening","getHitGraphEnabled","toggleHitCanvas","added","destroy","releaseCanvas","nodeType","_registerNode","Factory","addGetterSetter","getBooleanValidator"],"sources":["C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/konva/lib/Layer.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Layer = void 0;\nconst Util_1 = require(\"./Util\");\nconst Container_1 = require(\"./Container\");\nconst Node_1 = require(\"./Node\");\nconst Factory_1 = require(\"./Factory\");\nconst Canvas_1 = require(\"./Canvas\");\nconst Validators_1 = require(\"./Validators\");\nconst Shape_1 = require(\"./Shape\");\nconst Global_1 = require(\"./Global\");\nvar HASH = '#', BEFORE_DRAW = 'beforeDraw', DRAW = 'draw', INTERSECTION_OFFSETS = [\n    { x: 0, y: 0 },\n    { x: -1, y: -1 },\n    { x: 1, y: -1 },\n    { x: 1, y: 1 },\n    { x: -1, y: 1 },\n], INTERSECTION_OFFSETS_LEN = INTERSECTION_OFFSETS.length;\nclass Layer extends Container_1.Container {\n    constructor(config) {\n        super(config);\n        this.canvas = new Canvas_1.SceneCanvas();\n        this.hitCanvas = new Canvas_1.HitCanvas({\n            pixelRatio: 1,\n        });\n        this._waitingForDraw = false;\n        this.on('visibleChange.konva', this._checkVisibility);\n        this._checkVisibility();\n        this.on('imageSmoothingEnabledChange.konva', this._setSmoothEnabled);\n        this._setSmoothEnabled();\n    }\n    createPNGStream() {\n        const c = this.canvas._canvas;\n        return c.createPNGStream();\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    getNativeCanvasElement() {\n        return this.canvas._canvas;\n    }\n    getHitCanvas() {\n        return this.hitCanvas;\n    }\n    getContext() {\n        return this.getCanvas().getContext();\n    }\n    clear(bounds) {\n        this.getContext().clear(bounds);\n        this.getHitCanvas().getContext().clear(bounds);\n        return this;\n    }\n    setZIndex(index) {\n        super.setZIndex(index);\n        var stage = this.getStage();\n        if (stage && stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            if (index < stage.children.length - 1) {\n                stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[index + 1].getCanvas()._canvas);\n            }\n            else {\n                stage.content.appendChild(this.getNativeCanvasElement());\n            }\n        }\n        return this;\n    }\n    moveToTop() {\n        Node_1.Node.prototype.moveToTop.call(this);\n        var stage = this.getStage();\n        if (stage && stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            stage.content.appendChild(this.getNativeCanvasElement());\n        }\n        return true;\n    }\n    moveUp() {\n        var moved = Node_1.Node.prototype.moveUp.call(this);\n        if (!moved) {\n            return false;\n        }\n        var stage = this.getStage();\n        if (!stage || !stage.content) {\n            return false;\n        }\n        stage.content.removeChild(this.getNativeCanvasElement());\n        if (this.index < stage.children.length - 1) {\n            stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[this.index + 1].getCanvas()._canvas);\n        }\n        else {\n            stage.content.appendChild(this.getNativeCanvasElement());\n        }\n        return true;\n    }\n    moveDown() {\n        if (Node_1.Node.prototype.moveDown.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                if (stage.content) {\n                    stage.content.removeChild(this.getNativeCanvasElement());\n                    stage.content.insertBefore(this.getNativeCanvasElement(), children[this.index + 1].getCanvas()._canvas);\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    moveToBottom() {\n        if (Node_1.Node.prototype.moveToBottom.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                if (stage.content) {\n                    stage.content.removeChild(this.getNativeCanvasElement());\n                    stage.content.insertBefore(this.getNativeCanvasElement(), children[1].getCanvas()._canvas);\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    getLayer() {\n        return this;\n    }\n    remove() {\n        var _canvas = this.getNativeCanvasElement();\n        Node_1.Node.prototype.remove.call(this);\n        if (_canvas && _canvas.parentNode && Util_1.Util._isInDocument(_canvas)) {\n            _canvas.parentNode.removeChild(_canvas);\n        }\n        return this;\n    }\n    getStage() {\n        return this.parent;\n    }\n    setSize({ width, height }) {\n        this.canvas.setSize(width, height);\n        this.hitCanvas.setSize(width, height);\n        this._setSmoothEnabled();\n        return this;\n    }\n    _validateAdd(child) {\n        var type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util_1.Util.throw('You may only add groups and shapes to a layer.');\n        }\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        config.width = config.width || this.getWidth();\n        config.height = config.height || this.getHeight();\n        config.x = config.x !== undefined ? config.x : this.x();\n        config.y = config.y !== undefined ? config.y : this.y();\n        return Node_1.Node.prototype._toKonvaCanvas.call(this, config);\n    }\n    _checkVisibility() {\n        const visible = this.visible();\n        if (visible) {\n            this.canvas._canvas.style.display = 'block';\n        }\n        else {\n            this.canvas._canvas.style.display = 'none';\n        }\n    }\n    _setSmoothEnabled() {\n        this.getContext()._context.imageSmoothingEnabled =\n            this.imageSmoothingEnabled();\n    }\n    getWidth() {\n        if (this.parent) {\n            return this.parent.width();\n        }\n    }\n    setWidth() {\n        Util_1.Util.warn('Can not change width of layer. Use \"stage.width(value)\" function instead.');\n    }\n    getHeight() {\n        if (this.parent) {\n            return this.parent.height();\n        }\n    }\n    setHeight() {\n        Util_1.Util.warn('Can not change height of layer. Use \"stage.height(value)\" function instead.');\n    }\n    batchDraw() {\n        if (!this._waitingForDraw) {\n            this._waitingForDraw = true;\n            Util_1.Util.requestAnimFrame(() => {\n                this.draw();\n                this._waitingForDraw = false;\n            });\n        }\n        return this;\n    }\n    getIntersection(pos) {\n        if (!this.isListening() || !this.isVisible()) {\n            return null;\n        }\n        var spiralSearchDistance = 1;\n        var continueSearch = false;\n        while (true) {\n            for (let i = 0; i < INTERSECTION_OFFSETS_LEN; i++) {\n                const intersectionOffset = INTERSECTION_OFFSETS[i];\n                const obj = this._getIntersection({\n                    x: pos.x + intersectionOffset.x * spiralSearchDistance,\n                    y: pos.y + intersectionOffset.y * spiralSearchDistance,\n                });\n                const shape = obj.shape;\n                if (shape) {\n                    return shape;\n                }\n                continueSearch = !!obj.antialiased;\n                if (!obj.antialiased) {\n                    break;\n                }\n            }\n            if (continueSearch) {\n                spiralSearchDistance += 1;\n            }\n            else {\n                return null;\n            }\n        }\n    }\n    _getIntersection(pos) {\n        const ratio = this.hitCanvas.pixelRatio;\n        const p = this.hitCanvas.context.getImageData(Math.round(pos.x * ratio), Math.round(pos.y * ratio), 1, 1).data;\n        const p3 = p[3];\n        if (p3 === 255) {\n            const colorKey = Util_1.Util._rgbToHex(p[0], p[1], p[2]);\n            const shape = Shape_1.shapes[HASH + colorKey];\n            if (shape) {\n                return {\n                    shape: shape,\n                };\n            }\n            return {\n                antialiased: true,\n            };\n        }\n        else if (p3 > 0) {\n            return {\n                antialiased: true,\n            };\n        }\n        return {};\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.getCanvas());\n        this._fire(BEFORE_DRAW, {\n            node: this,\n        });\n        if (this.clearBeforeDraw()) {\n            canvas.getContext().clear();\n        }\n        Container_1.Container.prototype.drawScene.call(this, canvas, top);\n        this._fire(DRAW, {\n            node: this,\n        });\n        return this;\n    }\n    drawHit(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas);\n        if (layer && layer.clearBeforeDraw()) {\n            layer.getHitCanvas().getContext().clear();\n        }\n        Container_1.Container.prototype.drawHit.call(this, canvas, top);\n        return this;\n    }\n    enableHitGraph() {\n        this.hitGraphEnabled(true);\n        return this;\n    }\n    disableHitGraph() {\n        this.hitGraphEnabled(false);\n        return this;\n    }\n    setHitGraphEnabled(val) {\n        Util_1.Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        this.listening(val);\n    }\n    getHitGraphEnabled(val) {\n        Util_1.Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        return this.listening();\n    }\n    toggleHitCanvas() {\n        if (!this.parent || !this.parent['content']) {\n            return;\n        }\n        var parent = this.parent;\n        var added = !!this.hitCanvas._canvas.parentNode;\n        if (added) {\n            parent.content.removeChild(this.hitCanvas._canvas);\n        }\n        else {\n            parent.content.appendChild(this.hitCanvas._canvas);\n        }\n    }\n    destroy() {\n        Util_1.Util.releaseCanvas(this.getNativeCanvasElement(), this.getHitCanvas()._canvas);\n        return super.destroy();\n    }\n}\nexports.Layer = Layer;\nLayer.prototype.nodeType = 'Layer';\n(0, Global_1._registerNode)(Layer);\nFactory_1.Factory.addGetterSetter(Layer, 'imageSmoothingEnabled', true);\nFactory_1.Factory.addGetterSetter(Layer, 'clearBeforeDraw', true);\nFactory_1.Factory.addGetterSetter(Layer, 'hitGraphEnabled', true, (0, Validators_1.getBooleanValidator)());\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}