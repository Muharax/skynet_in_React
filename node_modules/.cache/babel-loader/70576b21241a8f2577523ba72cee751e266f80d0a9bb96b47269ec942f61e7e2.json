{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _get = require(\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/get.js\").default;\nvar _getPrototypeOf = require(\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/getPrototypeOf.js\").default;\nvar _inherits = require(\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Arrow = void 0;\nvar Factory_1 = require(\"../Factory\");\nvar Line_1 = require(\"./Line\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_1 = require(\"../Global\");\nvar Path_1 = require(\"./Path\");\nvar Arrow = /*#__PURE__*/function (_Line_1$Line) {\n  _inherits(Arrow, _Line_1$Line);\n  var _super = _createSuper(Arrow);\n  function Arrow() {\n    _classCallCheck(this, Arrow);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Arrow, [{\n    key: \"_sceneFunc\",\n    value: function _sceneFunc(ctx) {\n      _get(_getPrototypeOf(Arrow.prototype), \"_sceneFunc\", this).call(this, ctx);\n      var PI2 = Math.PI * 2;\n      var points = this.points();\n      var tp = points;\n      var fromTension = this.tension() !== 0 && points.length > 4;\n      if (fromTension) {\n        tp = this.getTensionPoints();\n      }\n      var length = this.pointerLength();\n      var n = points.length;\n      var dx, dy;\n      if (fromTension) {\n        var lp = [tp[tp.length - 4], tp[tp.length - 3], tp[tp.length - 2], tp[tp.length - 1], points[n - 2], points[n - 1]];\n        var lastLength = Path_1.Path.calcLength(tp[tp.length - 4], tp[tp.length - 3], 'C', lp);\n        var previous = Path_1.Path.getPointOnQuadraticBezier(Math.min(1, 1 - length / lastLength), lp[0], lp[1], lp[2], lp[3], lp[4], lp[5]);\n        dx = points[n - 2] - previous.x;\n        dy = points[n - 1] - previous.y;\n      } else {\n        dx = points[n - 2] - points[n - 4];\n        dy = points[n - 1] - points[n - 3];\n      }\n      var radians = (Math.atan2(dy, dx) + PI2) % PI2;\n      var width = this.pointerWidth();\n      if (this.pointerAtEnding()) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.translate(points[n - 2], points[n - 1]);\n        ctx.rotate(radians);\n        ctx.moveTo(0, 0);\n        ctx.lineTo(-length, width / 2);\n        ctx.lineTo(-length, -width / 2);\n        ctx.closePath();\n        ctx.restore();\n        this.__fillStroke(ctx);\n      }\n      if (this.pointerAtBeginning()) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.translate(points[0], points[1]);\n        if (fromTension) {\n          dx = (tp[0] + tp[2]) / 2 - points[0];\n          dy = (tp[1] + tp[3]) / 2 - points[1];\n        } else {\n          dx = points[2] - points[0];\n          dy = points[3] - points[1];\n        }\n        ctx.rotate((Math.atan2(-dy, -dx) + PI2) % PI2);\n        ctx.moveTo(0, 0);\n        ctx.lineTo(-length, width / 2);\n        ctx.lineTo(-length, -width / 2);\n        ctx.closePath();\n        ctx.restore();\n        this.__fillStroke(ctx);\n      }\n    }\n  }, {\n    key: \"__fillStroke\",\n    value: function __fillStroke(ctx) {\n      var isDashEnabled = this.dashEnabled();\n      if (isDashEnabled) {\n        this.attrs.dashEnabled = false;\n        ctx.setLineDash([]);\n      }\n      ctx.fillStrokeShape(this);\n      if (isDashEnabled) {\n        this.attrs.dashEnabled = true;\n      }\n    }\n  }, {\n    key: \"getSelfRect\",\n    value: function getSelfRect() {\n      var lineRect = _get(_getPrototypeOf(Arrow.prototype), \"getSelfRect\", this).call(this);\n      var offset = this.pointerWidth() / 2;\n      return {\n        x: lineRect.x - offset,\n        y: lineRect.y - offset,\n        width: lineRect.width + offset * 2,\n        height: lineRect.height + offset * 2\n      };\n    }\n  }]);\n  return Arrow;\n}(Line_1.Line);\nexports.Arrow = Arrow;\nArrow.prototype.className = 'Arrow';\n(0, Global_1._registerNode)(Arrow);\nFactory_1.Factory.addGetterSetter(Arrow, 'pointerLength', 10, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Arrow, 'pointerWidth', 10, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Arrow, 'pointerAtBeginning', false);\nFactory_1.Factory.addGetterSetter(Arrow, 'pointerAtEnding', true);","map":{"version":3,"names":["_classCallCheck","require","default","_createClass","_get","_getPrototypeOf","_inherits","_createSuper","Object","defineProperty","exports","value","Arrow","Factory_1","Line_1","Validators_1","Global_1","Path_1","_Line_1$Line","_super","apply","arguments","key","_sceneFunc","ctx","prototype","call","PI2","Math","PI","points","tp","fromTension","tension","length","getTensionPoints","pointerLength","n","dx","dy","lp","lastLength","Path","calcLength","previous","getPointOnQuadraticBezier","min","x","y","radians","atan2","width","pointerWidth","pointerAtEnding","save","beginPath","translate","rotate","moveTo","lineTo","closePath","restore","__fillStroke","pointerAtBeginning","isDashEnabled","dashEnabled","attrs","setLineDash","fillStrokeShape","getSelfRect","lineRect","offset","height","Line","className","_registerNode","Factory","addGetterSetter","getNumberValidator"],"sources":["C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/konva/lib/shapes/Arrow.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Arrow = void 0;\nconst Factory_1 = require(\"../Factory\");\nconst Line_1 = require(\"./Line\");\nconst Validators_1 = require(\"../Validators\");\nconst Global_1 = require(\"../Global\");\nconst Path_1 = require(\"./Path\");\nclass Arrow extends Line_1.Line {\n    _sceneFunc(ctx) {\n        super._sceneFunc(ctx);\n        var PI2 = Math.PI * 2;\n        var points = this.points();\n        var tp = points;\n        var fromTension = this.tension() !== 0 && points.length > 4;\n        if (fromTension) {\n            tp = this.getTensionPoints();\n        }\n        var length = this.pointerLength();\n        var n = points.length;\n        var dx, dy;\n        if (fromTension) {\n            const lp = [\n                tp[tp.length - 4],\n                tp[tp.length - 3],\n                tp[tp.length - 2],\n                tp[tp.length - 1],\n                points[n - 2],\n                points[n - 1],\n            ];\n            const lastLength = Path_1.Path.calcLength(tp[tp.length - 4], tp[tp.length - 3], 'C', lp);\n            const previous = Path_1.Path.getPointOnQuadraticBezier(Math.min(1, 1 - length / lastLength), lp[0], lp[1], lp[2], lp[3], lp[4], lp[5]);\n            dx = points[n - 2] - previous.x;\n            dy = points[n - 1] - previous.y;\n        }\n        else {\n            dx = points[n - 2] - points[n - 4];\n            dy = points[n - 1] - points[n - 3];\n        }\n        var radians = (Math.atan2(dy, dx) + PI2) % PI2;\n        var width = this.pointerWidth();\n        if (this.pointerAtEnding()) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.translate(points[n - 2], points[n - 1]);\n            ctx.rotate(radians);\n            ctx.moveTo(0, 0);\n            ctx.lineTo(-length, width / 2);\n            ctx.lineTo(-length, -width / 2);\n            ctx.closePath();\n            ctx.restore();\n            this.__fillStroke(ctx);\n        }\n        if (this.pointerAtBeginning()) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.translate(points[0], points[1]);\n            if (fromTension) {\n                dx = (tp[0] + tp[2]) / 2 - points[0];\n                dy = (tp[1] + tp[3]) / 2 - points[1];\n            }\n            else {\n                dx = points[2] - points[0];\n                dy = points[3] - points[1];\n            }\n            ctx.rotate((Math.atan2(-dy, -dx) + PI2) % PI2);\n            ctx.moveTo(0, 0);\n            ctx.lineTo(-length, width / 2);\n            ctx.lineTo(-length, -width / 2);\n            ctx.closePath();\n            ctx.restore();\n            this.__fillStroke(ctx);\n        }\n    }\n    __fillStroke(ctx) {\n        var isDashEnabled = this.dashEnabled();\n        if (isDashEnabled) {\n            this.attrs.dashEnabled = false;\n            ctx.setLineDash([]);\n        }\n        ctx.fillStrokeShape(this);\n        if (isDashEnabled) {\n            this.attrs.dashEnabled = true;\n        }\n    }\n    getSelfRect() {\n        const lineRect = super.getSelfRect();\n        const offset = this.pointerWidth() / 2;\n        return {\n            x: lineRect.x - offset,\n            y: lineRect.y - offset,\n            width: lineRect.width + offset * 2,\n            height: lineRect.height + offset * 2,\n        };\n    }\n}\nexports.Arrow = Arrow;\nArrow.prototype.className = 'Arrow';\n(0, Global_1._registerNode)(Arrow);\nFactory_1.Factory.addGetterSetter(Arrow, 'pointerLength', 10, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Arrow, 'pointerWidth', 10, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Arrow, 'pointerAtBeginning', false);\nFactory_1.Factory.addGetterSetter(Arrow, 'pointerAtEnding', true);\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}