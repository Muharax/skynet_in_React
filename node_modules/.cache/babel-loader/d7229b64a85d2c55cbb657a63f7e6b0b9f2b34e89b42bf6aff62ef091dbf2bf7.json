{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Neo\\\\Desktop\\\\WWW\\\\react\\\\skynet\\\\skynet\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport './App.css';\nimport React, { useState } from \"react\";\nimport jwtDecode from 'jwt-decode'; // dodane\nimport MainWindow from './MainWindow/MainWindow';\nimport Logowanie from './logowanie/logowanie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [loggedIn, setLoggedIn] = useState(JSON.parse(localStorage.getItem(\"loggedIn\")) || false);\n  const [serverMessage, setServerMessage] = useState(null);\n  const [decodedToken, setDecodedToken] = useState(null); // dodane\n\n  const handleLogin = (message, token) => {\n    // dodane token\n    setLoggedIn(true);\n    setServerMessage(message);\n    localStorage.setItem(\"loggedIn\", true);\n    const decoded = jwtDecode(token); // dekodowanie tokena\n    setDecodedToken(decoded); // ustawianie zdekodowanego tokena\n  };\n\n  const handleLogout = () => {\n    setLoggedIn(false);\n    setServerMessage(null);\n    localStorage.removeItem(\"loggedIn\");\n    setDecodedToken(null); // resetowanie zdekodowanego tokena po wylogowaniu\n  };\n\n  return loggedIn ? /*#__PURE__*/_jsxDEV(MainWindow, {\n    handleLogout: handleLogout,\n    serverMessage: serverMessage,\n    decodedToken: decodedToken\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 7\n  }, this) // przekazanie decodedToken jako prop\n  : /*#__PURE__*/_jsxDEV(Logowanie, {\n    handleLogin: handleLogin\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 7\n  }, this);\n}\n_s(App, \"mB+yPG4bzoLmdZMNhGKb6ThvYaw=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","jwtDecode","MainWindow","Logowanie","jsxDEV","_jsxDEV","App","_s","loggedIn","setLoggedIn","JSON","parse","localStorage","getItem","serverMessage","setServerMessage","decodedToken","setDecodedToken","handleLogin","message","token","setItem","decoded","handleLogout","removeItem","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Neo/Desktop/WWW/react/skynet/skynet/src/App.js"],"sourcesContent":["import './App.css';\nimport React, { useState } from \"react\";\nimport jwtDecode from 'jwt-decode';  // dodane\nimport MainWindow from './MainWindow/MainWindow';\nimport Logowanie from './logowanie/logowanie';\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(JSON.parse(localStorage.getItem(\"loggedIn\")) || false);\n  const [serverMessage, setServerMessage] = useState(null);\n  const [decodedToken, setDecodedToken] = useState(null); // dodane\n\n  const handleLogin = (message, token) => { // dodane token\n    setLoggedIn(true);\n    setServerMessage(message);\n    localStorage.setItem(\"loggedIn\", true);\n\n    const decoded = jwtDecode(token);  // dekodowanie tokena\n    setDecodedToken(decoded); // ustawianie zdekodowanego tokena\n  };\n\n  const handleLogout = () => {\n    setLoggedIn(false);\n    setServerMessage(null);\n    localStorage.removeItem(\"loggedIn\");\n    setDecodedToken(null); // resetowanie zdekodowanego tokena po wylogowaniu\n  };\n\n  return loggedIn \n    ? <MainWindow handleLogout={handleLogout} serverMessage={serverMessage} decodedToken={decodedToken} /> // przekazanie decodedToken jako prop\n    : <Logowanie handleLogin={handleLogin} />\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAO,WAAW;AAClB,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,SAAS,MAAM,YAAY,CAAC,CAAE;AACrC,OAAOC,UAAU,MAAM,yBAAyB;AAChD,OAAOC,SAAS,MAAM,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAACU,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,IAAI,KAAK,CAAC;EAC/F,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACgB,YAAY,EAAEC,eAAe,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;;EAExD,MAAMkB,WAAW,GAAGA,CAACC,OAAO,EAAEC,KAAK,KAAK;IAAE;IACxCX,WAAW,CAAC,IAAI,CAAC;IACjBM,gBAAgB,CAACI,OAAO,CAAC;IACzBP,YAAY,CAACS,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC;IAEtC,MAAMC,OAAO,GAAGrB,SAAS,CAACmB,KAAK,CAAC,CAAC,CAAE;IACnCH,eAAe,CAACK,OAAO,CAAC,CAAC,CAAC;EAC5B,CAAC;;EAED,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACzBd,WAAW,CAAC,KAAK,CAAC;IAClBM,gBAAgB,CAAC,IAAI,CAAC;IACtBH,YAAY,CAACY,UAAU,CAAC,UAAU,CAAC;IACnCP,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;EACzB,CAAC;;EAED,OAAOT,QAAQ,gBACXH,OAAA,CAACH,UAAU;IAACqB,YAAY,EAAEA,YAAa;IAACT,aAAa,EAAEA,aAAc;IAACE,YAAY,EAAEA;EAAa;IAAAS,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC,CAAC;EAAA,eACrGvB,OAAA,CAACF,SAAS;IAACe,WAAW,EAAEA;EAAY;IAAAO,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAC7C;AAACrB,EAAA,CAxBQD,GAAG;AAAAuB,EAAA,GAAHvB,GAAG;AA0BZ,eAAeA,GAAG;AAAC,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}