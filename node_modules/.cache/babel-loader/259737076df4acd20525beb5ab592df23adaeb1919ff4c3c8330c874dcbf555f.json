{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _inherits = require(\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Path = void 0;\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Global_1 = require(\"../Global\");\nvar BezierFunctions_1 = require(\"../BezierFunctions\");\nvar Path = /*#__PURE__*/function (_Shape_1$Shape) {\n  _inherits(Path, _Shape_1$Shape);\n  var _super = _createSuper(Path);\n  function Path(config) {\n    var _this;\n    _classCallCheck(this, Path);\n    _this = _super.call(this, config);\n    _this.dataArray = [];\n    _this.pathLength = 0;\n    _this._readDataAttribute();\n    _this.on('dataChange.konva', function () {\n      this._readDataAttribute();\n    });\n    return _this;\n  }\n  _createClass(Path, [{\n    key: \"_readDataAttribute\",\n    value: function _readDataAttribute() {\n      this.dataArray = Path.parsePathData(this.data());\n      this.pathLength = Path.getPathLength(this.dataArray);\n    }\n  }, {\n    key: \"_sceneFunc\",\n    value: function _sceneFunc(context) {\n      var ca = this.dataArray;\n      context.beginPath();\n      var isClosed = false;\n      for (var n = 0; n < ca.length; n++) {\n        var c = ca[n].command;\n        var p = ca[n].points;\n        switch (c) {\n          case 'L':\n            context.lineTo(p[0], p[1]);\n            break;\n          case 'M':\n            context.moveTo(p[0], p[1]);\n            break;\n          case 'C':\n            context.bezierCurveTo(p[0], p[1], p[2], p[3], p[4], p[5]);\n            break;\n          case 'Q':\n            context.quadraticCurveTo(p[0], p[1], p[2], p[3]);\n            break;\n          case 'A':\n            var cx = p[0],\n              cy = p[1],\n              rx = p[2],\n              ry = p[3],\n              theta = p[4],\n              dTheta = p[5],\n              psi = p[6],\n              fs = p[7];\n            var r = rx > ry ? rx : ry;\n            var scaleX = rx > ry ? 1 : rx / ry;\n            var scaleY = rx > ry ? ry / rx : 1;\n            context.translate(cx, cy);\n            context.rotate(psi);\n            context.scale(scaleX, scaleY);\n            context.arc(0, 0, r, theta, theta + dTheta, 1 - fs);\n            context.scale(1 / scaleX, 1 / scaleY);\n            context.rotate(-psi);\n            context.translate(-cx, -cy);\n            break;\n          case 'z':\n            isClosed = true;\n            context.closePath();\n            break;\n        }\n      }\n      if (!isClosed && !this.hasFill()) {\n        context.strokeShape(this);\n      } else {\n        context.fillStrokeShape(this);\n      }\n    }\n  }, {\n    key: \"getSelfRect\",\n    value: function getSelfRect() {\n      var points = [];\n      this.dataArray.forEach(function (data) {\n        if (data.command === 'A') {\n          var start = data.points[4];\n          var dTheta = data.points[5];\n          var end = data.points[4] + dTheta;\n          var inc = Math.PI / 180.0;\n          if (Math.abs(start - end) < inc) {\n            inc = Math.abs(start - end);\n          }\n          if (dTheta < 0) {\n            for (var t = start - inc; t > end; t -= inc) {\n              var point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], t, 0);\n              points.push(point.x, point.y);\n            }\n          } else {\n            for (var _t = start + inc; _t < end; _t += inc) {\n              var _point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], _t, 0);\n              points.push(_point.x, _point.y);\n            }\n          }\n        } else if (data.command === 'C') {\n          for (var _t2 = 0.0; _t2 <= 1; _t2 += 0.01) {\n            var _point2 = Path.getPointOnCubicBezier(_t2, data.start.x, data.start.y, data.points[0], data.points[1], data.points[2], data.points[3], data.points[4], data.points[5]);\n            points.push(_point2.x, _point2.y);\n          }\n        } else {\n          points = points.concat(data.points);\n        }\n      });\n      var minX = points[0];\n      var maxX = points[0];\n      var minY = points[1];\n      var maxY = points[1];\n      var x, y;\n      for (var i = 0; i < points.length / 2; i++) {\n        x = points[i * 2];\n        y = points[i * 2 + 1];\n        if (!isNaN(x)) {\n          minX = Math.min(minX, x);\n          maxX = Math.max(maxX, x);\n        }\n        if (!isNaN(y)) {\n          minY = Math.min(minY, y);\n          maxY = Math.max(maxY, y);\n        }\n      }\n      return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY\n      };\n    }\n  }, {\n    key: \"getLength\",\n    value: function getLength() {\n      return this.pathLength;\n    }\n  }, {\n    key: \"getPointAtLength\",\n    value: function getPointAtLength(length) {\n      return Path.getPointAtLengthOfDataArray(length, this.dataArray);\n    }\n  }], [{\n    key: \"getLineLength\",\n    value: function getLineLength(x1, y1, x2, y2) {\n      return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n    }\n  }, {\n    key: \"getPathLength\",\n    value: function getPathLength(dataArray) {\n      var pathLength = 0;\n      for (var i = 0; i < dataArray.length; ++i) {\n        pathLength += dataArray[i].pathLength;\n      }\n      return pathLength;\n    }\n  }, {\n    key: \"getPointAtLengthOfDataArray\",\n    value: function getPointAtLengthOfDataArray(length, dataArray) {\n      var point,\n        i = 0,\n        ii = dataArray.length;\n      if (!ii) {\n        return null;\n      }\n      while (i < ii && length > dataArray[i].pathLength) {\n        length -= dataArray[i].pathLength;\n        ++i;\n      }\n      if (i === ii) {\n        point = dataArray[i - 1].points.slice(-2);\n        return {\n          x: point[0],\n          y: point[1]\n        };\n      }\n      if (length < 0.01) {\n        point = dataArray[i].points.slice(0, 2);\n        return {\n          x: point[0],\n          y: point[1]\n        };\n      }\n      var cp = dataArray[i];\n      var p = cp.points;\n      switch (cp.command) {\n        case 'L':\n          return Path.getPointOnLine(length, cp.start.x, cp.start.y, p[0], p[1]);\n        case 'C':\n          return Path.getPointOnCubicBezier((0, BezierFunctions_1.t2length)(length, Path.getPathLength(dataArray), function (i) {\n            return (0, BezierFunctions_1.getCubicArcLength)([cp.start.x, p[0], p[2], p[4]], [cp.start.y, p[1], p[3], p[5]], i);\n          }), cp.start.x, cp.start.y, p[0], p[1], p[2], p[3], p[4], p[5]);\n        case 'Q':\n          return Path.getPointOnQuadraticBezier((0, BezierFunctions_1.t2length)(length, Path.getPathLength(dataArray), function (i) {\n            return (0, BezierFunctions_1.getQuadraticArcLength)([cp.start.x, p[0], p[2]], [cp.start.y, p[1], p[3]], i);\n          }), cp.start.x, cp.start.y, p[0], p[1], p[2], p[3]);\n        case 'A':\n          var cx = p[0],\n            cy = p[1],\n            rx = p[2],\n            ry = p[3],\n            theta = p[4],\n            dTheta = p[5],\n            psi = p[6];\n          theta += dTheta * length / cp.pathLength;\n          return Path.getPointOnEllipticalArc(cx, cy, rx, ry, theta, psi);\n      }\n      return null;\n    }\n  }, {\n    key: \"getPointOnLine\",\n    value: function getPointOnLine(dist, P1x, P1y, P2x, P2y, fromX, fromY) {\n      if (fromX === undefined) {\n        fromX = P1x;\n      }\n      if (fromY === undefined) {\n        fromY = P1y;\n      }\n      var m = (P2y - P1y) / (P2x - P1x + 0.00000001);\n      var run = Math.sqrt(dist * dist / (1 + m * m));\n      if (P2x < P1x) {\n        run *= -1;\n      }\n      var rise = m * run;\n      var pt;\n      if (P2x === P1x) {\n        pt = {\n          x: fromX,\n          y: fromY + rise\n        };\n      } else if ((fromY - P1y) / (fromX - P1x + 0.00000001) === m) {\n        pt = {\n          x: fromX + run,\n          y: fromY + rise\n        };\n      } else {\n        var ix, iy;\n        var len = this.getLineLength(P1x, P1y, P2x, P2y);\n        var u = (fromX - P1x) * (P2x - P1x) + (fromY - P1y) * (P2y - P1y);\n        u = u / (len * len);\n        ix = P1x + u * (P2x - P1x);\n        iy = P1y + u * (P2y - P1y);\n        var pRise = this.getLineLength(fromX, fromY, ix, iy);\n        var pRun = Math.sqrt(dist * dist - pRise * pRise);\n        run = Math.sqrt(pRun * pRun / (1 + m * m));\n        if (P2x < P1x) {\n          run *= -1;\n        }\n        rise = m * run;\n        pt = {\n          x: ix + run,\n          y: iy + rise\n        };\n      }\n      return pt;\n    }\n  }, {\n    key: \"getPointOnCubicBezier\",\n    value: function getPointOnCubicBezier(pct, P1x, P1y, P2x, P2y, P3x, P3y, P4x, P4y) {\n      function CB1(t) {\n        return t * t * t;\n      }\n      function CB2(t) {\n        return 3 * t * t * (1 - t);\n      }\n      function CB3(t) {\n        return 3 * t * (1 - t) * (1 - t);\n      }\n      function CB4(t) {\n        return (1 - t) * (1 - t) * (1 - t);\n      }\n      var x = P4x * CB1(pct) + P3x * CB2(pct) + P2x * CB3(pct) + P1x * CB4(pct);\n      var y = P4y * CB1(pct) + P3y * CB2(pct) + P2y * CB3(pct) + P1y * CB4(pct);\n      return {\n        x: x,\n        y: y\n      };\n    }\n  }, {\n    key: \"getPointOnQuadraticBezier\",\n    value: function getPointOnQuadraticBezier(pct, P1x, P1y, P2x, P2y, P3x, P3y) {\n      function QB1(t) {\n        return t * t;\n      }\n      function QB2(t) {\n        return 2 * t * (1 - t);\n      }\n      function QB3(t) {\n        return (1 - t) * (1 - t);\n      }\n      var x = P3x * QB1(pct) + P2x * QB2(pct) + P1x * QB3(pct);\n      var y = P3y * QB1(pct) + P2y * QB2(pct) + P1y * QB3(pct);\n      return {\n        x: x,\n        y: y\n      };\n    }\n  }, {\n    key: \"getPointOnEllipticalArc\",\n    value: function getPointOnEllipticalArc(cx, cy, rx, ry, theta, psi) {\n      var cosPsi = Math.cos(psi),\n        sinPsi = Math.sin(psi);\n      var pt = {\n        x: rx * Math.cos(theta),\n        y: ry * Math.sin(theta)\n      };\n      return {\n        x: cx + (pt.x * cosPsi - pt.y * sinPsi),\n        y: cy + (pt.x * sinPsi + pt.y * cosPsi)\n      };\n    }\n  }, {\n    key: \"parsePathData\",\n    value: function parsePathData(data) {\n      if (!data) {\n        return [];\n      }\n      var cs = data;\n      var cc = ['m', 'M', 'l', 'L', 'v', 'V', 'h', 'H', 'z', 'Z', 'c', 'C', 'q', 'Q', 't', 'T', 's', 'S', 'a', 'A'];\n      cs = cs.replace(new RegExp(' ', 'g'), ',');\n      for (var n = 0; n < cc.length; n++) {\n        cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n      }\n      var arr = cs.split('|');\n      var ca = [];\n      var coords = [];\n      var cpx = 0;\n      var cpy = 0;\n      var re = /([-+]?((\\d+\\.\\d+)|((\\d+)|(\\.\\d+)))(?:e[-+]?\\d+)?)/gi;\n      var match;\n      for (n = 1; n < arr.length; n++) {\n        var str = arr[n];\n        var c = str.charAt(0);\n        str = str.slice(1);\n        coords.length = 0;\n        while (match = re.exec(str)) {\n          coords.push(match[0]);\n        }\n        var p = [];\n        for (var j = 0, jlen = coords.length; j < jlen; j++) {\n          if (coords[j] === '00') {\n            p.push(0, 0);\n            continue;\n          }\n          var parsed = parseFloat(coords[j]);\n          if (!isNaN(parsed)) {\n            p.push(parsed);\n          } else {\n            p.push(0);\n          }\n        }\n        while (p.length > 0) {\n          if (isNaN(p[0])) {\n            break;\n          }\n          var cmd = null;\n          var points = [];\n          var startX = cpx,\n            startY = cpy;\n          var prevCmd, ctlPtx, ctlPty;\n          var rx, ry, psi, fa, fs, x1, y1;\n          switch (c) {\n            case 'l':\n              cpx += p.shift();\n              cpy += p.shift();\n              cmd = 'L';\n              points.push(cpx, cpy);\n              break;\n            case 'L':\n              cpx = p.shift();\n              cpy = p.shift();\n              points.push(cpx, cpy);\n              break;\n            case 'm':\n              var dx = p.shift();\n              var dy = p.shift();\n              cpx += dx;\n              cpy += dy;\n              cmd = 'M';\n              if (ca.length > 2 && ca[ca.length - 1].command === 'z') {\n                for (var idx = ca.length - 2; idx >= 0; idx--) {\n                  if (ca[idx].command === 'M') {\n                    cpx = ca[idx].points[0] + dx;\n                    cpy = ca[idx].points[1] + dy;\n                    break;\n                  }\n                }\n              }\n              points.push(cpx, cpy);\n              c = 'l';\n              break;\n            case 'M':\n              cpx = p.shift();\n              cpy = p.shift();\n              cmd = 'M';\n              points.push(cpx, cpy);\n              c = 'L';\n              break;\n            case 'h':\n              cpx += p.shift();\n              cmd = 'L';\n              points.push(cpx, cpy);\n              break;\n            case 'H':\n              cpx = p.shift();\n              cmd = 'L';\n              points.push(cpx, cpy);\n              break;\n            case 'v':\n              cpy += p.shift();\n              cmd = 'L';\n              points.push(cpx, cpy);\n              break;\n            case 'V':\n              cpy = p.shift();\n              cmd = 'L';\n              points.push(cpx, cpy);\n              break;\n            case 'C':\n              points.push(p.shift(), p.shift(), p.shift(), p.shift());\n              cpx = p.shift();\n              cpy = p.shift();\n              points.push(cpx, cpy);\n              break;\n            case 'c':\n              points.push(cpx + p.shift(), cpy + p.shift(), cpx + p.shift(), cpy + p.shift());\n              cpx += p.shift();\n              cpy += p.shift();\n              cmd = 'C';\n              points.push(cpx, cpy);\n              break;\n            case 'S':\n              ctlPtx = cpx;\n              ctlPty = cpy;\n              prevCmd = ca[ca.length - 1];\n              if (prevCmd.command === 'C') {\n                ctlPtx = cpx + (cpx - prevCmd.points[2]);\n                ctlPty = cpy + (cpy - prevCmd.points[3]);\n              }\n              points.push(ctlPtx, ctlPty, p.shift(), p.shift());\n              cpx = p.shift();\n              cpy = p.shift();\n              cmd = 'C';\n              points.push(cpx, cpy);\n              break;\n            case 's':\n              ctlPtx = cpx;\n              ctlPty = cpy;\n              prevCmd = ca[ca.length - 1];\n              if (prevCmd.command === 'C') {\n                ctlPtx = cpx + (cpx - prevCmd.points[2]);\n                ctlPty = cpy + (cpy - prevCmd.points[3]);\n              }\n              points.push(ctlPtx, ctlPty, cpx + p.shift(), cpy + p.shift());\n              cpx += p.shift();\n              cpy += p.shift();\n              cmd = 'C';\n              points.push(cpx, cpy);\n              break;\n            case 'Q':\n              points.push(p.shift(), p.shift());\n              cpx = p.shift();\n              cpy = p.shift();\n              points.push(cpx, cpy);\n              break;\n            case 'q':\n              points.push(cpx + p.shift(), cpy + p.shift());\n              cpx += p.shift();\n              cpy += p.shift();\n              cmd = 'Q';\n              points.push(cpx, cpy);\n              break;\n            case 'T':\n              ctlPtx = cpx;\n              ctlPty = cpy;\n              prevCmd = ca[ca.length - 1];\n              if (prevCmd.command === 'Q') {\n                ctlPtx = cpx + (cpx - prevCmd.points[0]);\n                ctlPty = cpy + (cpy - prevCmd.points[1]);\n              }\n              cpx = p.shift();\n              cpy = p.shift();\n              cmd = 'Q';\n              points.push(ctlPtx, ctlPty, cpx, cpy);\n              break;\n            case 't':\n              ctlPtx = cpx;\n              ctlPty = cpy;\n              prevCmd = ca[ca.length - 1];\n              if (prevCmd.command === 'Q') {\n                ctlPtx = cpx + (cpx - prevCmd.points[0]);\n                ctlPty = cpy + (cpy - prevCmd.points[1]);\n              }\n              cpx += p.shift();\n              cpy += p.shift();\n              cmd = 'Q';\n              points.push(ctlPtx, ctlPty, cpx, cpy);\n              break;\n            case 'A':\n              rx = p.shift();\n              ry = p.shift();\n              psi = p.shift();\n              fa = p.shift();\n              fs = p.shift();\n              x1 = cpx;\n              y1 = cpy;\n              cpx = p.shift();\n              cpy = p.shift();\n              cmd = 'A';\n              points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);\n              break;\n            case 'a':\n              rx = p.shift();\n              ry = p.shift();\n              psi = p.shift();\n              fa = p.shift();\n              fs = p.shift();\n              x1 = cpx;\n              y1 = cpy;\n              cpx += p.shift();\n              cpy += p.shift();\n              cmd = 'A';\n              points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);\n              break;\n          }\n          ca.push({\n            command: cmd || c,\n            points: points,\n            start: {\n              x: startX,\n              y: startY\n            },\n            pathLength: this.calcLength(startX, startY, cmd || c, points)\n          });\n        }\n        if (c === 'z' || c === 'Z') {\n          ca.push({\n            command: 'z',\n            points: [],\n            start: undefined,\n            pathLength: 0\n          });\n        }\n      }\n      return ca;\n    }\n  }, {\n    key: \"calcLength\",\n    value: function calcLength(x, y, cmd, points) {\n      var len, p1, p2, t;\n      var path = Path;\n      switch (cmd) {\n        case 'L':\n          return path.getLineLength(x, y, points[0], points[1]);\n        case 'C':\n          return (0, BezierFunctions_1.getCubicArcLength)([x, points[0], points[2], points[4]], [y, points[1], points[3], points[5]], 1);\n        case 'Q':\n          return (0, BezierFunctions_1.getQuadraticArcLength)([x, points[0], points[2]], [y, points[1], points[3]], 1);\n        case 'A':\n          len = 0.0;\n          var start = points[4];\n          var dTheta = points[5];\n          var end = points[4] + dTheta;\n          var inc = Math.PI / 180.0;\n          if (Math.abs(start - end) < inc) {\n            inc = Math.abs(start - end);\n          }\n          p1 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], start, 0);\n          if (dTheta < 0) {\n            for (t = start - inc; t > end; t -= inc) {\n              p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);\n              len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n              p1 = p2;\n            }\n          } else {\n            for (t = start + inc; t < end; t += inc) {\n              p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);\n              len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n              p1 = p2;\n            }\n          }\n          p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], end, 0);\n          len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n          return len;\n      }\n      return 0;\n    }\n  }, {\n    key: \"convertEndpointToCenterParameterization\",\n    value: function convertEndpointToCenterParameterization(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg) {\n      var psi = psiDeg * (Math.PI / 180.0);\n      var xp = Math.cos(psi) * (x1 - x2) / 2.0 + Math.sin(psi) * (y1 - y2) / 2.0;\n      var yp = -1 * Math.sin(psi) * (x1 - x2) / 2.0 + Math.cos(psi) * (y1 - y2) / 2.0;\n      var lambda = xp * xp / (rx * rx) + yp * yp / (ry * ry);\n      if (lambda > 1) {\n        rx *= Math.sqrt(lambda);\n        ry *= Math.sqrt(lambda);\n      }\n      var f = Math.sqrt((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) / (rx * rx * (yp * yp) + ry * ry * (xp * xp)));\n      if (fa === fs) {\n        f *= -1;\n      }\n      if (isNaN(f)) {\n        f = 0;\n      }\n      var cxp = f * rx * yp / ry;\n      var cyp = f * -ry * xp / rx;\n      var cx = (x1 + x2) / 2.0 + Math.cos(psi) * cxp - Math.sin(psi) * cyp;\n      var cy = (y1 + y2) / 2.0 + Math.sin(psi) * cxp + Math.cos(psi) * cyp;\n      var vMag = function vMag(v) {\n        return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n      };\n      var vRatio = function vRatio(u, v) {\n        return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n      };\n      var vAngle = function vAngle(u, v) {\n        return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n      };\n      var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n      var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n      var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n      var dTheta = vAngle(u, v);\n      if (vRatio(u, v) <= -1) {\n        dTheta = Math.PI;\n      }\n      if (vRatio(u, v) >= 1) {\n        dTheta = 0;\n      }\n      if (fs === 0 && dTheta > 0) {\n        dTheta = dTheta - 2 * Math.PI;\n      }\n      if (fs === 1 && dTheta < 0) {\n        dTheta = dTheta + 2 * Math.PI;\n      }\n      return [cx, cy, rx, ry, theta, dTheta, psi, fs];\n    }\n  }]);\n  return Path;\n}(Shape_1.Shape);\nexports.Path = Path;\nPath.prototype.className = 'Path';\nPath.prototype._attrsAffectingSize = ['data'];\n(0, Global_1._registerNode)(Path);\nFactory_1.Factory.addGetterSetter(Path, 'data');","map":{"version":3,"names":["_classCallCheck","require","default","_createClass","_inherits","_createSuper","Object","defineProperty","exports","value","Path","Factory_1","Shape_1","Global_1","BezierFunctions_1","_Shape_1$Shape","_super","config","_this","call","dataArray","pathLength","_readDataAttribute","on","key","parsePathData","data","getPathLength","_sceneFunc","context","ca","beginPath","isClosed","n","length","c","command","p","points","lineTo","moveTo","bezierCurveTo","quadraticCurveTo","cx","cy","rx","ry","theta","dTheta","psi","fs","r","scaleX","scaleY","translate","rotate","scale","arc","closePath","hasFill","strokeShape","fillStrokeShape","getSelfRect","forEach","start","end","inc","Math","PI","abs","t","point","getPointOnEllipticalArc","push","x","y","getPointOnCubicBezier","concat","minX","maxX","minY","maxY","i","isNaN","min","max","width","height","getLength","getPointAtLength","getPointAtLengthOfDataArray","getLineLength","x1","y1","x2","y2","sqrt","ii","slice","cp","getPointOnLine","t2length","getCubicArcLength","getPointOnQuadraticBezier","getQuadraticArcLength","dist","P1x","P1y","P2x","P2y","fromX","fromY","undefined","m","run","rise","pt","ix","iy","len","u","pRise","pRun","pct","P3x","P3y","P4x","P4y","CB1","CB2","CB3","CB4","QB1","QB2","QB3","cosPsi","cos","sinPsi","sin","cs","cc","replace","RegExp","arr","split","coords","cpx","cpy","re","match","str","charAt","exec","j","jlen","parsed","parseFloat","cmd","startX","startY","prevCmd","ctlPtx","ctlPty","fa","shift","dx","dy","idx","convertEndpointToCenterParameterization","calcLength","p1","p2","path","psiDeg","xp","yp","lambda","f","cxp","cyp","vMag","v","vRatio","vAngle","acos","Shape","prototype","className","_attrsAffectingSize","_registerNode","Factory","addGetterSetter"],"sources":["C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/konva/lib/shapes/Path.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Path = void 0;\nconst Factory_1 = require(\"../Factory\");\nconst Shape_1 = require(\"../Shape\");\nconst Global_1 = require(\"../Global\");\nconst BezierFunctions_1 = require(\"../BezierFunctions\");\nclass Path extends Shape_1.Shape {\n    constructor(config) {\n        super(config);\n        this.dataArray = [];\n        this.pathLength = 0;\n        this._readDataAttribute();\n        this.on('dataChange.konva', function () {\n            this._readDataAttribute();\n        });\n    }\n    _readDataAttribute() {\n        this.dataArray = Path.parsePathData(this.data());\n        this.pathLength = Path.getPathLength(this.dataArray);\n    }\n    _sceneFunc(context) {\n        var ca = this.dataArray;\n        context.beginPath();\n        var isClosed = false;\n        for (var n = 0; n < ca.length; n++) {\n            var c = ca[n].command;\n            var p = ca[n].points;\n            switch (c) {\n                case 'L':\n                    context.lineTo(p[0], p[1]);\n                    break;\n                case 'M':\n                    context.moveTo(p[0], p[1]);\n                    break;\n                case 'C':\n                    context.bezierCurveTo(p[0], p[1], p[2], p[3], p[4], p[5]);\n                    break;\n                case 'Q':\n                    context.quadraticCurveTo(p[0], p[1], p[2], p[3]);\n                    break;\n                case 'A':\n                    var cx = p[0], cy = p[1], rx = p[2], ry = p[3], theta = p[4], dTheta = p[5], psi = p[6], fs = p[7];\n                    var r = rx > ry ? rx : ry;\n                    var scaleX = rx > ry ? 1 : rx / ry;\n                    var scaleY = rx > ry ? ry / rx : 1;\n                    context.translate(cx, cy);\n                    context.rotate(psi);\n                    context.scale(scaleX, scaleY);\n                    context.arc(0, 0, r, theta, theta + dTheta, 1 - fs);\n                    context.scale(1 / scaleX, 1 / scaleY);\n                    context.rotate(-psi);\n                    context.translate(-cx, -cy);\n                    break;\n                case 'z':\n                    isClosed = true;\n                    context.closePath();\n                    break;\n            }\n        }\n        if (!isClosed && !this.hasFill()) {\n            context.strokeShape(this);\n        }\n        else {\n            context.fillStrokeShape(this);\n        }\n    }\n    getSelfRect() {\n        var points = [];\n        this.dataArray.forEach(function (data) {\n            if (data.command === 'A') {\n                var start = data.points[4];\n                var dTheta = data.points[5];\n                var end = data.points[4] + dTheta;\n                var inc = Math.PI / 180.0;\n                if (Math.abs(start - end) < inc) {\n                    inc = Math.abs(start - end);\n                }\n                if (dTheta < 0) {\n                    for (let t = start - inc; t > end; t -= inc) {\n                        const point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], t, 0);\n                        points.push(point.x, point.y);\n                    }\n                }\n                else {\n                    for (let t = start + inc; t < end; t += inc) {\n                        const point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], t, 0);\n                        points.push(point.x, point.y);\n                    }\n                }\n            }\n            else if (data.command === 'C') {\n                for (let t = 0.0; t <= 1; t += 0.01) {\n                    const point = Path.getPointOnCubicBezier(t, data.start.x, data.start.y, data.points[0], data.points[1], data.points[2], data.points[3], data.points[4], data.points[5]);\n                    points.push(point.x, point.y);\n                }\n            }\n            else {\n                points = points.concat(data.points);\n            }\n        });\n        var minX = points[0];\n        var maxX = points[0];\n        var minY = points[1];\n        var maxY = points[1];\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            if (!isNaN(x)) {\n                minX = Math.min(minX, x);\n                maxX = Math.max(maxX, x);\n            }\n            if (!isNaN(y)) {\n                minY = Math.min(minY, y);\n                maxY = Math.max(maxY, y);\n            }\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    getLength() {\n        return this.pathLength;\n    }\n    getPointAtLength(length) {\n        return Path.getPointAtLengthOfDataArray(length, this.dataArray);\n    }\n    static getLineLength(x1, y1, x2, y2) {\n        return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n    }\n    static getPathLength(dataArray) {\n        let pathLength = 0;\n        for (var i = 0; i < dataArray.length; ++i) {\n            pathLength += dataArray[i].pathLength;\n        }\n        return pathLength;\n    }\n    static getPointAtLengthOfDataArray(length, dataArray) {\n        var point, i = 0, ii = dataArray.length;\n        if (!ii) {\n            return null;\n        }\n        while (i < ii && length > dataArray[i].pathLength) {\n            length -= dataArray[i].pathLength;\n            ++i;\n        }\n        if (i === ii) {\n            point = dataArray[i - 1].points.slice(-2);\n            return {\n                x: point[0],\n                y: point[1],\n            };\n        }\n        if (length < 0.01) {\n            point = dataArray[i].points.slice(0, 2);\n            return {\n                x: point[0],\n                y: point[1],\n            };\n        }\n        var cp = dataArray[i];\n        var p = cp.points;\n        switch (cp.command) {\n            case 'L':\n                return Path.getPointOnLine(length, cp.start.x, cp.start.y, p[0], p[1]);\n            case 'C':\n                return Path.getPointOnCubicBezier((0, BezierFunctions_1.t2length)(length, Path.getPathLength(dataArray), (i) => {\n                    return (0, BezierFunctions_1.getCubicArcLength)([cp.start.x, p[0], p[2], p[4]], [cp.start.y, p[1], p[3], p[5]], i);\n                }), cp.start.x, cp.start.y, p[0], p[1], p[2], p[3], p[4], p[5]);\n            case 'Q':\n                return Path.getPointOnQuadraticBezier((0, BezierFunctions_1.t2length)(length, Path.getPathLength(dataArray), (i) => {\n                    return (0, BezierFunctions_1.getQuadraticArcLength)([cp.start.x, p[0], p[2]], [cp.start.y, p[1], p[3]], i);\n                }), cp.start.x, cp.start.y, p[0], p[1], p[2], p[3]);\n            case 'A':\n                var cx = p[0], cy = p[1], rx = p[2], ry = p[3], theta = p[4], dTheta = p[5], psi = p[6];\n                theta += (dTheta * length) / cp.pathLength;\n                return Path.getPointOnEllipticalArc(cx, cy, rx, ry, theta, psi);\n        }\n        return null;\n    }\n    static getPointOnLine(dist, P1x, P1y, P2x, P2y, fromX, fromY) {\n        if (fromX === undefined) {\n            fromX = P1x;\n        }\n        if (fromY === undefined) {\n            fromY = P1y;\n        }\n        var m = (P2y - P1y) / (P2x - P1x + 0.00000001);\n        var run = Math.sqrt((dist * dist) / (1 + m * m));\n        if (P2x < P1x) {\n            run *= -1;\n        }\n        var rise = m * run;\n        var pt;\n        if (P2x === P1x) {\n            pt = {\n                x: fromX,\n                y: fromY + rise,\n            };\n        }\n        else if ((fromY - P1y) / (fromX - P1x + 0.00000001) === m) {\n            pt = {\n                x: fromX + run,\n                y: fromY + rise,\n            };\n        }\n        else {\n            var ix, iy;\n            var len = this.getLineLength(P1x, P1y, P2x, P2y);\n            var u = (fromX - P1x) * (P2x - P1x) + (fromY - P1y) * (P2y - P1y);\n            u = u / (len * len);\n            ix = P1x + u * (P2x - P1x);\n            iy = P1y + u * (P2y - P1y);\n            var pRise = this.getLineLength(fromX, fromY, ix, iy);\n            var pRun = Math.sqrt(dist * dist - pRise * pRise);\n            run = Math.sqrt((pRun * pRun) / (1 + m * m));\n            if (P2x < P1x) {\n                run *= -1;\n            }\n            rise = m * run;\n            pt = {\n                x: ix + run,\n                y: iy + rise,\n            };\n        }\n        return pt;\n    }\n    static getPointOnCubicBezier(pct, P1x, P1y, P2x, P2y, P3x, P3y, P4x, P4y) {\n        function CB1(t) {\n            return t * t * t;\n        }\n        function CB2(t) {\n            return 3 * t * t * (1 - t);\n        }\n        function CB3(t) {\n            return 3 * t * (1 - t) * (1 - t);\n        }\n        function CB4(t) {\n            return (1 - t) * (1 - t) * (1 - t);\n        }\n        var x = P4x * CB1(pct) + P3x * CB2(pct) + P2x * CB3(pct) + P1x * CB4(pct);\n        var y = P4y * CB1(pct) + P3y * CB2(pct) + P2y * CB3(pct) + P1y * CB4(pct);\n        return {\n            x: x,\n            y: y,\n        };\n    }\n    static getPointOnQuadraticBezier(pct, P1x, P1y, P2x, P2y, P3x, P3y) {\n        function QB1(t) {\n            return t * t;\n        }\n        function QB2(t) {\n            return 2 * t * (1 - t);\n        }\n        function QB3(t) {\n            return (1 - t) * (1 - t);\n        }\n        var x = P3x * QB1(pct) + P2x * QB2(pct) + P1x * QB3(pct);\n        var y = P3y * QB1(pct) + P2y * QB2(pct) + P1y * QB3(pct);\n        return {\n            x: x,\n            y: y,\n        };\n    }\n    static getPointOnEllipticalArc(cx, cy, rx, ry, theta, psi) {\n        var cosPsi = Math.cos(psi), sinPsi = Math.sin(psi);\n        var pt = {\n            x: rx * Math.cos(theta),\n            y: ry * Math.sin(theta),\n        };\n        return {\n            x: cx + (pt.x * cosPsi - pt.y * sinPsi),\n            y: cy + (pt.x * sinPsi + pt.y * cosPsi),\n        };\n    }\n    static parsePathData(data) {\n        if (!data) {\n            return [];\n        }\n        var cs = data;\n        var cc = [\n            'm',\n            'M',\n            'l',\n            'L',\n            'v',\n            'V',\n            'h',\n            'H',\n            'z',\n            'Z',\n            'c',\n            'C',\n            'q',\n            'Q',\n            't',\n            'T',\n            's',\n            'S',\n            'a',\n            'A',\n        ];\n        cs = cs.replace(new RegExp(' ', 'g'), ',');\n        for (var n = 0; n < cc.length; n++) {\n            cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n        }\n        var arr = cs.split('|');\n        var ca = [];\n        var coords = [];\n        var cpx = 0;\n        var cpy = 0;\n        var re = /([-+]?((\\d+\\.\\d+)|((\\d+)|(\\.\\d+)))(?:e[-+]?\\d+)?)/gi;\n        var match;\n        for (n = 1; n < arr.length; n++) {\n            var str = arr[n];\n            var c = str.charAt(0);\n            str = str.slice(1);\n            coords.length = 0;\n            while ((match = re.exec(str))) {\n                coords.push(match[0]);\n            }\n            var p = [];\n            for (var j = 0, jlen = coords.length; j < jlen; j++) {\n                if (coords[j] === '00') {\n                    p.push(0, 0);\n                    continue;\n                }\n                var parsed = parseFloat(coords[j]);\n                if (!isNaN(parsed)) {\n                    p.push(parsed);\n                }\n                else {\n                    p.push(0);\n                }\n            }\n            while (p.length > 0) {\n                if (isNaN(p[0])) {\n                    break;\n                }\n                var cmd = null;\n                var points = [];\n                var startX = cpx, startY = cpy;\n                var prevCmd, ctlPtx, ctlPty;\n                var rx, ry, psi, fa, fs, x1, y1;\n                switch (c) {\n                    case 'l':\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'L':\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        points.push(cpx, cpy);\n                        break;\n                    case 'm':\n                        var dx = p.shift();\n                        var dy = p.shift();\n                        cpx += dx;\n                        cpy += dy;\n                        cmd = 'M';\n                        if (ca.length > 2 && ca[ca.length - 1].command === 'z') {\n                            for (var idx = ca.length - 2; idx >= 0; idx--) {\n                                if (ca[idx].command === 'M') {\n                                    cpx = ca[idx].points[0] + dx;\n                                    cpy = ca[idx].points[1] + dy;\n                                    break;\n                                }\n                            }\n                        }\n                        points.push(cpx, cpy);\n                        c = 'l';\n                        break;\n                    case 'M':\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'M';\n                        points.push(cpx, cpy);\n                        c = 'L';\n                        break;\n                    case 'h':\n                        cpx += p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'H':\n                        cpx = p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'v':\n                        cpy += p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'V':\n                        cpy = p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'C':\n                        points.push(p.shift(), p.shift(), p.shift(), p.shift());\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        points.push(cpx, cpy);\n                        break;\n                    case 'c':\n                        points.push(cpx + p.shift(), cpy + p.shift(), cpx + p.shift(), cpy + p.shift());\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'C';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'S':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'C') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[2]);\n                            ctlPty = cpy + (cpy - prevCmd.points[3]);\n                        }\n                        points.push(ctlPtx, ctlPty, p.shift(), p.shift());\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'C';\n                        points.push(cpx, cpy);\n                        break;\n                    case 's':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'C') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[2]);\n                            ctlPty = cpy + (cpy - prevCmd.points[3]);\n                        }\n                        points.push(ctlPtx, ctlPty, cpx + p.shift(), cpy + p.shift());\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'C';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'Q':\n                        points.push(p.shift(), p.shift());\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        points.push(cpx, cpy);\n                        break;\n                    case 'q':\n                        points.push(cpx + p.shift(), cpy + p.shift());\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'Q';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'T':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'Q') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[0]);\n                            ctlPty = cpy + (cpy - prevCmd.points[1]);\n                        }\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'Q';\n                        points.push(ctlPtx, ctlPty, cpx, cpy);\n                        break;\n                    case 't':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'Q') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[0]);\n                            ctlPty = cpy + (cpy - prevCmd.points[1]);\n                        }\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'Q';\n                        points.push(ctlPtx, ctlPty, cpx, cpy);\n                        break;\n                    case 'A':\n                        rx = p.shift();\n                        ry = p.shift();\n                        psi = p.shift();\n                        fa = p.shift();\n                        fs = p.shift();\n                        x1 = cpx;\n                        y1 = cpy;\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'A';\n                        points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);\n                        break;\n                    case 'a':\n                        rx = p.shift();\n                        ry = p.shift();\n                        psi = p.shift();\n                        fa = p.shift();\n                        fs = p.shift();\n                        x1 = cpx;\n                        y1 = cpy;\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'A';\n                        points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);\n                        break;\n                }\n                ca.push({\n                    command: cmd || c,\n                    points: points,\n                    start: {\n                        x: startX,\n                        y: startY,\n                    },\n                    pathLength: this.calcLength(startX, startY, cmd || c, points),\n                });\n            }\n            if (c === 'z' || c === 'Z') {\n                ca.push({\n                    command: 'z',\n                    points: [],\n                    start: undefined,\n                    pathLength: 0,\n                });\n            }\n        }\n        return ca;\n    }\n    static calcLength(x, y, cmd, points) {\n        var len, p1, p2, t;\n        var path = Path;\n        switch (cmd) {\n            case 'L':\n                return path.getLineLength(x, y, points[0], points[1]);\n            case 'C':\n                return (0, BezierFunctions_1.getCubicArcLength)([x, points[0], points[2], points[4]], [y, points[1], points[3], points[5]], 1);\n            case 'Q':\n                return (0, BezierFunctions_1.getQuadraticArcLength)([x, points[0], points[2]], [y, points[1], points[3]], 1);\n            case 'A':\n                len = 0.0;\n                var start = points[4];\n                var dTheta = points[5];\n                var end = points[4] + dTheta;\n                var inc = Math.PI / 180.0;\n                if (Math.abs(start - end) < inc) {\n                    inc = Math.abs(start - end);\n                }\n                p1 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], start, 0);\n                if (dTheta < 0) {\n                    for (t = start - inc; t > end; t -= inc) {\n                        p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);\n                        len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                        p1 = p2;\n                    }\n                }\n                else {\n                    for (t = start + inc; t < end; t += inc) {\n                        p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);\n                        len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                        p1 = p2;\n                    }\n                }\n                p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], end, 0);\n                len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                return len;\n        }\n        return 0;\n    }\n    static convertEndpointToCenterParameterization(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg) {\n        var psi = psiDeg * (Math.PI / 180.0);\n        var xp = (Math.cos(psi) * (x1 - x2)) / 2.0 + (Math.sin(psi) * (y1 - y2)) / 2.0;\n        var yp = (-1 * Math.sin(psi) * (x1 - x2)) / 2.0 +\n            (Math.cos(psi) * (y1 - y2)) / 2.0;\n        var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n        if (lambda > 1) {\n            rx *= Math.sqrt(lambda);\n            ry *= Math.sqrt(lambda);\n        }\n        var f = Math.sqrt((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) /\n            (rx * rx * (yp * yp) + ry * ry * (xp * xp)));\n        if (fa === fs) {\n            f *= -1;\n        }\n        if (isNaN(f)) {\n            f = 0;\n        }\n        var cxp = (f * rx * yp) / ry;\n        var cyp = (f * -ry * xp) / rx;\n        var cx = (x1 + x2) / 2.0 + Math.cos(psi) * cxp - Math.sin(psi) * cyp;\n        var cy = (y1 + y2) / 2.0 + Math.sin(psi) * cxp + Math.cos(psi) * cyp;\n        var vMag = function (v) {\n            return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n        };\n        var vRatio = function (u, v) {\n            return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n        };\n        var vAngle = function (u, v) {\n            return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n        };\n        var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n        var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n        var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n        var dTheta = vAngle(u, v);\n        if (vRatio(u, v) <= -1) {\n            dTheta = Math.PI;\n        }\n        if (vRatio(u, v) >= 1) {\n            dTheta = 0;\n        }\n        if (fs === 0 && dTheta > 0) {\n            dTheta = dTheta - 2 * Math.PI;\n        }\n        if (fs === 1 && dTheta < 0) {\n            dTheta = dTheta + 2 * Math.PI;\n        }\n        return [cx, cy, rx, ry, theta, dTheta, psi, fs];\n    }\n}\nexports.Path = Path;\nPath.prototype.className = 'Path';\nPath.prototype._attrsAffectingSize = ['data'];\n(0, Global_1._registerNode)(Path);\nFactory_1.Factory.addGetterSetter(Path, 'data');\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}