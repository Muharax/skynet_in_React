{"ast":null,"code":"import _objectSpread from\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"C:/Users/Neo/Desktop/WWW/react/skynet/skynet/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"path\",\"setAlertMessage\"];import{Routes,Route,useLocation}from'react-router-dom';import{useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var checkRole=function checkRole(path){var role=localStorage.getItem('role');if(path==='/Uzytkownicy'&&role!=='admin'){return'Brak dostępu';}return null;};export var Block=function Block(_ref){var message=_ref.message;return message?/*#__PURE__*/_jsx(\"div\",{children:message}):null;};export var PrivateRoute=function PrivateRoute(_ref2){var path=_ref2.path,setAlertMessage=_ref2.setAlertMessage,props=_objectWithoutProperties(_ref2,_excluded);var location=useLocation();var message=location.pathname===path?checkRole(path):null;useEffect(function(){setAlertMessage(message);},[message,setAlertMessage]);return message?/*#__PURE__*/_jsx(Block,{message:message}):/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsx(Route,_objectSpread({path:path},props))});};","map":{"version":3,"names":["Routes","Route","useLocation","useEffect","jsx","_jsx","checkRole","path","role","localStorage","getItem","Block","_ref","message","children","PrivateRoute","_ref2","setAlertMessage","props","_objectWithoutProperties","_excluded","location","pathname","_objectSpread"],"sources":["C:/Users/Neo/Desktop/WWW/react/skynet/skynet/src/PrivateRoute/PrivateRoute.js"],"sourcesContent":["import { Routes, Route, useLocation } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\n\r\nexport const checkRole = (path) => {\r\n  const role = localStorage.getItem('role');\r\n\r\n  if (path === '/Uzytkownicy' && role !== 'admin') {\r\n    return 'Brak dostępu';\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport const Block = ({ message }) => {\r\n  return message ? <div>{message}</div> : null;\r\n};\r\n\r\nexport const PrivateRoute = ({ path, setAlertMessage, ...props }) => {\r\n  const location = useLocation();\r\n  const message = location.pathname === path ? checkRole(path) : null;\r\n\r\n  useEffect(() => {\r\n    setAlertMessage(message);\r\n  }, [message, setAlertMessage]);\r\n\r\n  return message ? <Block message={message} /> : <Routes><Route path={path} {...props} /></Routes>;\r\n};\r\n"],"mappings":"gUAAA,OAASA,MAAM,CAAEC,KAAK,CAAEC,WAAW,KAAQ,kBAAkB,CAC7D,OAASC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElC,MAAO,IAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAIC,IAAI,CAAK,CACjC,GAAM,CAAAC,IAAI,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAEzC,GAAIH,IAAI,GAAK,cAAc,EAAIC,IAAI,GAAK,OAAO,CAAE,CAC/C,MAAO,cAAc,CACvB,CAEA,MAAO,KAAI,CACb,CAAC,CAED,MAAO,IAAM,CAAAG,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAAC,IAAA,CAAoB,IAAd,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAC7B,MAAO,CAAAA,OAAO,cAAGR,IAAA,QAAAS,QAAA,CAAMD,OAAO,CAAM,CAAC,CAAG,IAAI,CAC9C,CAAC,CAED,MAAO,IAAM,CAAAE,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAAC,KAAA,CAA4C,IAAtC,CAAAT,IAAI,CAAAS,KAAA,CAAJT,IAAI,CAAEU,eAAe,CAAAD,KAAA,CAAfC,eAAe,CAAKC,KAAK,CAAAC,wBAAA,CAAAH,KAAA,CAAAI,SAAA,EAC5D,GAAM,CAAAC,QAAQ,CAAGnB,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAW,OAAO,CAAGQ,QAAQ,CAACC,QAAQ,GAAKf,IAAI,CAAGD,SAAS,CAACC,IAAI,CAAC,CAAG,IAAI,CAEnEJ,SAAS,CAAC,UAAM,CACdc,eAAe,CAACJ,OAAO,CAAC,CAC1B,CAAC,CAAE,CAACA,OAAO,CAAEI,eAAe,CAAC,CAAC,CAE9B,MAAO,CAAAJ,OAAO,cAAGR,IAAA,CAACM,KAAK,EAACE,OAAO,CAAEA,OAAQ,CAAE,CAAC,cAAGR,IAAA,CAACL,MAAM,EAAAc,QAAA,cAACT,IAAA,CAACJ,KAAK,CAAAsB,aAAA,EAAChB,IAAI,CAAEA,IAAK,EAAKW,KAAK,CAAG,CAAC,CAAQ,CAAC,CAClG,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}